{
  "version": 4,
  "terraform_version": "1.6.4",
  "serial": 345,
  "lineage": "0416446d-a14c-399a-acc5-4b5f3d7c2c84",
  "outputs": {
    "account_id": {
      "value": "921283598378",
      "type": "string"
    },
    "caller_arn": {
      "value": "arn:aws:iam::921283598378:user/francisco",
      "type": "string"
    },
    "caller_user": {
      "value": "AIDA5NAGIDAVPAU3F2OZD",
      "type": "string"
    },
    "docker_build_commands": {
      "value": [
        "cd ./containers/api\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t api-repo:latest .\r\n\r\ndocker tag api-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\n",
        "cd ./containers/frontend\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t frontend-repo:latest .\r\n\r\ndocker tag frontend-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\n"
      ],
      "type": [
        "tuple",
        [
          "string",
          "string"
        ]
      ]
    },
    "docker_build_context": {
      "value": "./containers",
      "type": "string"
    },
    "docker_build_script": {
      "value": "# 0\r\ncd ./containers/api\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t api-repo:latest .\r\n\r\ndocker tag api-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\n\r\n\r\necho \"Finished building and pushing Docker image for 0\"\r\n\n# 1\r\ncd ./containers/frontend\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t frontend-repo:latest .\r\n\r\ndocker tag frontend-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\n\r\n\r\necho \"Finished building and pushing Docker image for 1\"\r\n",
      "type": "string"
    },
    "ecr_repository_urls": {
      "value": {
        "api": "921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo",
        "frontend": "921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo"
      },
      "type": [
        "object",
        {
          "api": "string",
          "frontend": "string"
        }
      ]
    },
    "trigged_by": {
      "value": {
        "api": {
          "detect_docker_source_changes": "7f54a7bcc292865039ef5c480cd1f519ebf123b2719b474ef74afbd0771c4a14"
        },
        "frontend": {
          "detect_docker_source_changes": "7f54a7bcc292865039ef5c480cd1f519ebf123b2719b474ef74afbd0771c4a14"
        }
      },
      "type": [
        "object",
        {
          "api": [
            "map",
            "string"
          ],
          "frontend": [
            "map",
            "string"
          ]
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "921283598378",
            "arn": "arn:aws:iam::921283598378:user/francisco",
            "id": "921283598378",
            "user_id": "AIDA5NAGIDAVPAU3F2OZD"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ecr_authorization_token",
      "name": "token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_token": "QVdTOmV5SndZWGxzYjJGa0lqb2lOV3hoYTBOTGJGQlRLemhhZGl0VGNTOW1iR0paTTJaalYyVjJRVVp3TkRGMFlpdE9ha3Q0TDA1SFExTmpSWEZsY0RGdU9FWkxTMjFyWkVac1JVbzJZbWxyZWxOMGFHZFNielpPSzJkMEx6UllNMFo0Y21SSVQyOUxXRTR3TTJSMFoyZElUR3A2ZEUxTlZ5ODRNbkJWTm5sUVlsRTNXSGN4U0ZwRmFtTmxSa055T0dwYVRFUm9OWHAxVFc0elp6SXdWalZFT1c1NGIzWmpiRU4yYldsQ1lWSjBWek5CU2xZNWFtOWliMFJRWlRoRE4yUlpka2hzT0cxcFkzSmFjbWt4YlZsdlNVMVVSbXhaZGpKVVJHaHdSRlI2YkZOdmJFeHFWSGwxUmt0T1lXZ3pXbTl3VkhaVFkyUjRZa0oyVTBZd1YwZHVVWE5ZUkVKRmRqQndVek5aUWxwUWFETjNOMVF5ZFdkWFVHOHhRa2Q0VUZOVVJ6VjNSRGRsU1RWeFJtbGFlbllyWlRsS1VUbEdOMVl4YjNCek1HaFNTRTFyWWt0TFRYTndUVU5XVGtGaFVHaDRZbmxOZGpSV2VFOUNaWEpDTjNsUFFYTkJhM1pFV2pKMU5YTnZSRE0yV1RORFFVMU5TbmxMVDB4bFdDOHJNVEowYW5CamFHcE9TVmhCTlZKNFkzQkNkM0ZoVmxjNFpHOXlSRlpHVWtGdk1IVlBVWEJHSzJwb1oxWTBkamR3WTBKVlZXeGxaMEp6VVdjdk9ERXJkVE4xY1ZKNlQyNUZXVFJRVm1OUFJHSTFhbXhNWXl0cGNFSnlhVEZyY2k5eFdXdHRZbmtyYm5nMVFYTjVlaTlOVmt4SFRGbENXa1I2U0hFNVFucGFTVzFEWldKTWJtWTBhemRSZFhJdlZGSmFXRzUxTlhaemEzTmhRV1poV1hVeVNsaGFUbFp3Vm5oaFVtcGFTWE5qZWk5UVdXUlJXVlZLWm5FM09HaEJOMmxHZGpoRFFteGtZa053VlRGR1VXRlJVMlZQVlZwbmRFRk5RazV5VHprMFdXaExWRmhFVjFCcFlrbGhhR0pNVWxNMlVtVjZiM2RLZGxKMGRuWmxVMVpJZVM5M05tMWpNMHRZVlZKS1REQk1SVnBRU1haNVVGbDZaeloxYm5wb0t6VnZWVFpwYkVKeVJrdDJhVWxPUmtObGF6VlNSblI1UjBWR2RuZE5OazFRTVZJek4zQlljVzlZWWpJMFRFeHZNMHd5WlhGUWVGWmlVaTlqUkdoRFlVNVBlbWhLWjBwNVRGbHlhelV6Y0ZKSlF6aHlWM2M0YzJ3NFl6SlplRlJRUW5sd1FUTnNNMjQyVFcxcGVIazJSbmxxTWxGME9VOUNXRXA0ZEdWMFRYVjBiMmhXS3pkWmRWTkNOV2hwVDJkVlVIUlFWR2Q1Tml0Nk4yZDNhVXhQWjA1dlVVVk9hMWhUT0VrMGFFNXNUVmRsUVVSR1FtMXphbWx1U2xWVGNtRXlWMGQ2WkdsT1YzRnVNRUZXZUdaMGNUUlZjbUZQYTA4NVYwUnRlREpDYjNsdlFtMWxSVlY0Ymtwc1NEQlJTUzh3VjFkWWF6TkJXVGhZU0VoVFlVSXhaSGs0UjB0RllqVnlhblZXWjFOUldDOVdibWd4YWt0SFpYUkxlbFY1ZUVOU2VrSk5hMlZsUmswMU1tTmxNVWxKY2tweE4zZ3ZaVUZEYVUxRmJYVldlbWxMYkZSVWRHVXdWR3haTDB0bWRFMXJTVzFhWTJaMFVqQk1ZVGN4T0VadVdXSXJSR0ozWTI1NlNXdDBiMUZ3WkhReVl5OUpMMUJMZVZSU1EwODFkamR0YWxWcWR6MDlJaXdpWkdGMFlXdGxlU0k2SWtGUlJVSkJTR2gzYlRCWllVbFRTbVZTZEVwdE5XNHhSeloxY1dWbGExaDFiMWhZVUdVMVZVWmpaVGxTY1Rndk1UUjNRVUZCU0RSM1prRlpTa3R2V2tsb2RtTk9RVkZqUjI5SE9IZGlVVWxDUVVSQ2IwSm5hM0ZvYTJsSE9YY3dRa0ozUlhkSVoxbEtXVWxhU1VGWFZVUkNRVVYxVFVKRlJVUkRUazl4VEVwcGIyZFBSVkoyUkVONVVVbENSVWxCTnk5V1UxUjJka0ZVU1RadU9YTkRLMDluYms5NFFuWXlTR1phUm1wV1EzSXlkSGRrZUc1TVJ6WkJaV0ZQVG1jeFRYUkRkR1poV1N0Q2JFOHpVaTlJVG5WcGNrdzJNRGgyVW5ReUwxVjZjREE5SWl3aWRtVnljMmx2YmlJNklqSWlMQ0owZVhCbElqb2lSRUZVUVY5TFJWa2lMQ0psZUhCcGNtRjBhVzl1SWpveE56QTBPRGN4TURreWZRPT0=",
            "expires_at": "2024-01-10T07:18:12Z",
            "id": "us-east-1",
            "password": "eyJwYXlsb2FkIjoiNWxha0NLbFBTKzhaditTcS9mbGJZM2ZjV2V2QUZwNDF0YitOakt4L05HQ1NjRXFlcDFuOEZLS21rZEZsRUo2YmlrelN0aGdSbzZOK2d0LzRYM0Z4cmRIT29LWE4wM2R0Z2dITGp6dE1NVy84MnBVNnlQYlE3WHcxSFpFamNlRkNyOGpaTERoNXp1TW4zZzIwVjVEOW54b3ZjbEN2bWlCYVJ0VzNBSlY5am9ib0RQZThDN2RZdkhsOG1pY3JacmkxbVlvSU1URmxZdjJURGhwRFR6bFNvbExqVHl1RktOYWgzWm9wVHZTY2R4YkJ2U0YwV0duUXNYREJFdjBwUzNZQlpQaDN3N1QydWdXUG8xQkd4UFNURzV3RDdlSTVxRmlaenYrZTlKUTlGN1Yxb3BzMGhSSE1rYktLTXNwTUNWTkFhUGh4YnlNdjRWeE9CZXJCN3lPQXNBa3ZEWjJ1NXNvRDM2WTNDQU1NSnlLT0xlWC8rMTJ0anBjaGpOSVhBNVJ4Y3BCd3FhVlc4ZG9yRFZGUkFvMHVPUXBGK2poZ1Y0djdwY0JVVWxlZ0JzUWcvODErdTN1cVJ6T25FWTRQVmNPRGI1amxMYytpcEJyaTFrci9xWWttYnkrbng1QXN5ei9NVkxHTFlCWkR6SHE5QnpaSW1DZWJMbmY0azdRdXIvVFJaWG51NXZza3NhQWZhWXUySlhaTlZwVnhhUmpaSXNjei9QWWRRWVVKZnE3OGhBN2lGdjhDQmxkYkNwVTFGUWFRU2VPVVpndEFNQk5yTzk0WWhLVFhEV1BpYklhaGJMUlM2UmV6b3dKdlJ0dnZlU1ZIeS93Nm1jM0tYVVJKTDBMRVpQSXZ5UFl6ZzZ1bnpoKzVvVTZpbEJyRkt2aUlORkNlazVSRnR5R0VGdndNNk1QMVIzN3BYcW9YYjI0TExvM0wyZXFQeFZiUi9jRGhDYU5PemhKZ0p5TFlyazUzcFJJQzhyV3c4c2w4YzJZeFRQQnlwQTNsM242TW1peHk2RnlqMlF0OU9CWEp4dGV0TXV0b2hWKzdZdVNCNWhpT2dVUHRQVGd5Nit6N2d3aUxPZ05vUUVOa1hTOEk0aE5sTVdlQURGQm1zamluSlVTcmEyV0d6ZGlOV3FuMEFWeGZ0cTRVcmFPa085V0RteDJCb3lvQm1lRVV4bkpsSDBRSS8wV1dYazNBWThYSEhTYUIxZHk4R0tFYjVyanVWZ1NRWC9WbmgxaktHZXRLelV5eENSekJNa2VlRk01MmNlMUlJckpxN3gvZUFDaU1FbXVWemlLbFRUdGUwVGxZL0tmdE1rSW1aY2Z0UjBMYTcxOEZuWWIrRGJ3Y256SWt0b1FwZHQyYy9JL1BLeVRSQ081djdtalVqdz09IiwiZGF0YWtleSI6IkFRRUJBSGh3bTBZYUlTSmVSdEptNW4xRzZ1cWVla1h1b1hYUGU1VUZjZTlScTgvMTR3QUFBSDR3ZkFZSktvWklodmNOQVFjR29HOHdiUUlCQURCb0Jna3Foa2lHOXcwQkJ3RXdIZ1lKWUlaSUFXVURCQUV1TUJFRURDTk9xTEppb2dPRVJ2REN5UUlCRUlBNy9WU1R2dkFUSTZuOXNDK09nbk94QnYySGZaRmpWQ3IydHdkeG5MRzZBZWFPTmcxTXRDdGZhWStCbE8zUi9ITnVpckw2MDh2UnQyL1V6cDA9IiwidmVyc2lvbiI6IjIiLCJ0eXBlIjoiREFUQV9LRVkiLCJleHBpcmF0aW9uIjoxNzA0ODcxMDkyfQ==",
            "proxy_endpoint": "https://921283598378.dkr.ecr.us-east-1.amazonaws.com",
            "registry_id": null,
            "user_name": "AWS"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "ecr_repos",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:us-east-1:921283598378:repository/api-repo",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "api-repo",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "api-repo",
            "registry_id": "921283598378",
            "repository_url": "921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo",
            "tags": {
              "env": "dev",
              "name": "api-repo"
            },
            "tags_all": {
              "env": "dev",
              "name": "api-repo"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "frontend",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:us-east-1:921283598378:repository/frontend-repo",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "frontend-repo",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "frontend-repo",
            "registry_id": "921283598378",
            "repository_url": "921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo",
            "tags": {
              "env": "dev",
              "name": "frontend-repo"
            },
            "tags_all": {
              "env": "dev",
              "name": "frontend-repo"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "build_push_dkr_img",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "api",
          "schema_version": 0,
          "attributes": {
            "id": "134825112264661323",
            "triggers": {
              "detect_docker_source_changes": "7f54a7bcc292865039ef5c480cd1f519ebf123b2719b474ef74afbd0771c4a14"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "aws_ecr_repository.ecr_repos",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "frontend",
          "schema_version": 0,
          "attributes": {
            "id": "6647628650696160188",
            "triggers": {
              "detect_docker_source_changes": "7f54a7bcc292865039ef5c480cd1f519ebf123b2719b474ef74afbd0771c4a14"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "aws_ecr_repository.ecr_repos",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
