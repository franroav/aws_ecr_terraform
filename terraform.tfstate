{
  "version": 4,
  "terraform_version": "1.6.4",
  "serial": 309,
  "lineage": "0416446d-a14c-399a-acc5-4b5f3d7c2c84",
  "outputs": {
    "account_id": {
      "value": "921283598378",
      "type": "string"
    },
    "caller_arn": {
      "value": "arn:aws:iam::921283598378:user/francisco",
      "type": "string"
    },
    "caller_user": {
      "value": "AIDA5NAGIDAVPAU3F2OZD",
      "type": "string"
    },
    "docker_build_commands": {
      "value": [
        "cd ./containers/api\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t api-repo:latest .\r\n\r\ndocker tag api-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\n",
        "cd ./containers/frontend\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t frontend-repo:latest .\r\n\r\ndocker tag frontend-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\n"
      ],
      "type": [
        "tuple",
        [
          "string",
          "string"
        ]
      ]
    },
    "docker_build_context": {
      "value": "./containers",
      "type": "string"
    },
    "docker_build_script": {
      "value": "# 0\r\ncd ./containers/api\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t api-repo:latest .\r\n\r\ndocker tag api-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo:latest\r\n\r\n\r\n\r\necho \"Finished building and pushing Docker image for 0\"\r\n\n# 1\r\ncd ./containers/frontend\r\n\r\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 921283598378.dkr.ecr.us-east-1.amazonaws.com\r\n    \r\ndocker build -t frontend-repo:latest .\r\n\r\ndocker tag frontend-repo:latest 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\ndocker push 921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo:latest\r\n\r\n\r\n\r\necho \"Finished building and pushing Docker image for 1\"\r\n",
      "type": "string"
    },
    "ecr_repository_urls": {
      "value": {
        "api": "921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo",
        "frontend": "921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo"
      },
      "type": [
        "object",
        {
          "api": "string",
          "frontend": "string"
        }
      ]
    },
    "trigged_by": {
      "value": {
        "api": {
          "detect_docker_source_changes": "16a1a3cf4ff28efe941260c590df77d74876597f2fe6b4314a86642a0d155256"
        },
        "frontend": {
          "detect_docker_source_changes": "16a1a3cf4ff28efe941260c590df77d74876597f2fe6b4314a86642a0d155256"
        }
      },
      "type": [
        "object",
        {
          "api": [
            "map",
            "string"
          ],
          "frontend": [
            "map",
            "string"
          ]
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "921283598378",
            "arn": "arn:aws:iam::921283598378:user/francisco",
            "id": "921283598378",
            "user_id": "AIDA5NAGIDAVPAU3F2OZD"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ecr_authorization_token",
      "name": "token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "authorization_token": "QVdTOmV5SndZWGxzYjJGa0lqb2llRFpQYzBsSGJXeFpZVTUzY2pGNWRVbGtNakoyZWxONlQzUlphMmhsZW5sTE1HSTJWa1ZLVlc5dlVtdDNXV05RYURneFVIQjNjRGhCU2sxc09HMDRjWHB4VXprNFZHVnpWVWRQUmpOeE9XOHZhbVJJZFV4eWRtNVNiMUZsV0U5bWQyUldaV3BhVjJSRmNqVnJTU3RUZGpCc1EzVXdWemxEYkU1UU9XZHhSVmxJYUVjMFRFUTRWVTlRTWtKUVVHYzBOSHB1TUUxT1N6Sk9WV0ZwV2pFNVdrZFRhV1pYTkdoWVUwSXhkbU5QTTJjdlJrNVZlbUZsVmpSeU5GaGFRalYzTDNGb2NHdHJORUZWVFhjdlVIWkRMM1JtUlRScGJTODFTWFZGWnlzeWJVZHdTaTlwV1VSTGIwTlZkMDVWZW5kblZWRklNSE4xZDBnM1EzQnRURXgyZGtGNGR6Z3JhMjl1ZEhFemFXOVpOV3hqU25SNFVqTlNjbWRJWkdWcGQyNHJSVTF6V1VGS01YbDViVkZIVkU1U09VSXZiVmswWmpBMFVXTnZaRlkxVDFvMlMwdEJiVXBhUjBJeFpIUm5ieXRIWXpkaFpIcEJkM05DTWxodmVuSTVVbWhaUVhGcWFubzJibkl6U0daRVNXdzVlREYyV0dzdloyTkhVR3hUUTFwbE5tdFJSbEJKU25GWlpXUXpZVzF2UmpkWlVrWlpiekozZGtFM2R6SlFhemh1UmxGRk5VeEtVMm93WVM5TFJHeFVSVXA1YVVwTVJ5c3JZemg2SzJKeVV5ODVhMVZ3VWxRemJVNXdhMHgwTVRka01sVkZXR2hWTkdwclFuUmFSQ3RhVTFac05YaDFjMUptTTBGUWJYSnJUVkpKTDNSRGJuWjFia3RWVFZKU1dsQkJaVWRFWkZaakswVXZNV2d2T0VZelNVMTNSMkZEWTFOb1dDOTZlVFV6TjFFdmQweE5ZelV6UzJZclRXUTJibVJNWWxkR1puazNXR3BsYW10amFFRmlWU3N4Y1RZek1rZHZkbmhzY1hRMFpHVjNTR051V210b1IzZzRUa3RyUzNOQlVGaERiMGhIY0RNMmNYbzJaR3RPTURWTVNqTk9TV2xQYmxwS1NYWlhPWHBJV2xkRGMyWTNPQ3RDWjFoTlVsZEJURU5LYW1wbk1tWmliMGhLUnk5a1ZFVnNiSEF4YkVObGNqaDBUREozUVVsb1FqSlJObE5JVWxCb04wRnhOVFJNV0haUlNWUkZPRlJyVDJkWFV6UmxWVWh5Y3pOcE0wdHJRM0ptTlZKMEx6WjNkVVYwWkRsR1FpdFhTMEpGVWxSS1ozTm5jSFY0WTFsTmNEUnhMMEp1VEdzelluQkNabUZ1UVdocVZWcFZlWFpST0RkV1MzTmFWR3hHTm5WaFkwNWhiV1JZT0dWSFRWbHhhM0IyVjFOdE9EWXpjMnRuUm01dk9UQk1UR2tyZEdOS2FpODVaQzgwVmtwVlRqTndZa2xyYVU5VllVVlhhRGwzUm0xeGIwMU9iMmR1U0ZkUWNtMURVMGxtY3psSldreE9PVmR0T1ZONlJuSk9lbmxIVldkQlowNVBkSEI1Y0hkM2NFbDViMkkyVGt4dVRteGFNVVpRZWxWc00xaHFjMjVQWjFSRGVqbHhiblJET1hCUllsUTJlbkJUTlVsMmJISlZjWFEyZVdzMmJsTnlaSHAyZVdKWU9WTlNTRzVQWkhWU1prdzBhbHBDUWxaaE4wZGljSGxuU2pCbk9UWjRNR1oxWVdkWUsxWTJXbWxuV2xoQlpFOHhNSE5rV0dkNFVIUXJkakJpYW5CbVEweHhSVzUyTm14dVVUMDlJaXdpWkdGMFlXdGxlU0k2SWtGUlJVSkJTR2gzYlRCWllVbFRTbVZTZEVwdE5XNHhSeloxY1dWbGExaDFiMWhZVUdVMVZVWmpaVGxTY1Rndk1UUjNRVUZCU0RSM1prRlpTa3R2V2tsb2RtTk9RVkZqUjI5SE9IZGlVVWxDUVVSQ2IwSm5hM0ZvYTJsSE9YY3dRa0ozUlhkSVoxbEtXVWxhU1VGWFZVUkNRVVYxVFVKRlJVUkZZVmh2Vkc5aGVqWnVlR1pOYkUxWFFVbENSVWxCTjJGWU5XSkpLMDAyT0hOd1JVdFRaR2xPVkVWa01HRmtTakpZZEUxalpIZ3lPV0ZpVkU1cGJtMW5kRTFRVEc4clozYzJZbWhDWlhsTE1GaFJXVUprVm5KWFRsWjVUVmxRU205aVZETm9kMEU5SWl3aWRtVnljMmx2YmlJNklqSWlMQ0owZVhCbElqb2lSRUZVUVY5TFJWa2lMQ0psZUhCcGNtRjBhVzl1SWpveE56QTBOemswT1RNeGZRPT0=",
            "expires_at": "2024-01-09T10:08:51Z",
            "id": "us-east-1",
            "password": "eyJwYXlsb2FkIjoieDZPc0lHbWxZYU53cjF5dUlkMjJ2elN6T3RZa2hlenlLMGI2VkVKVW9vUmt3WWNQaDgxUHB3cDhBSk1sOG04cXpxUzk4VGVzVUdPRjNxOW8vamRIdUxydm5Sb1FlWE9md2RWZWpaV2RFcjVrSStTdjBsQ3UwVzlDbE5QOWdxRVlIaEc0TEQ4VU9QMkJQUGc0NHpuME1OSzJOVWFpWjE5WkdTaWZXNGhYU0IxdmNPM2cvRk5VemFlVjRyNFhaQjV3L3FocGtrNEFVTXcvUHZDL3RmRTRpbS81SXVFZysybUdwSi9pWURLb0NVd05VendnVVFIMHN1d0g3Q3BtTEx2dkF4dzgra29udHEzaW9ZNWxjSnR4UjNScmdIZGVpd24rRU1zWUFKMXl5bVFHVE5SOUIvbVk0ZjA0UWNvZFY1T1o2S0tBbUpaR0IxZHRnbytHYzdhZHpBd3NCMlhvenI5UmhZQXFqano2bnIzSGZESWw5eDF2WGsvZ2NHUGxTQ1plNmtRRlBJSnFZZWQzYW1vRjdZUkZZbzJ3dkE3dzJQazhuRlFFNUxKU2owYS9LRGxURUp5aUpMRysrYzh6K2JyUy85a1VwUlQzbU5wa0x0MTdkMlVFWGhVNGprQnRaRCtaU1ZsNXh1c1JmM0FQbXJrTVJJL3RDbnZ1bktVTVJSWlBBZUdEZFZjK0UvMWgvOEYzSU13R2FDY1NoWC96eTUzN1Evd0xNYzUzS2YrTWQ2bmRMYldGZnk3WGplamtjaEFiVSsxcTYzMkdvdnhscXQ0ZGV3SGNuWmtoR3g4TktrS3NBUFhDb0hHcDM2cXo2ZGtOMDVMSjNOSWlPblpKSXZXOXpIWldDc2Y3OCtCZ1hNUldBTENKampnMmZib0hKRy9kVEVsbHAxbENlcjh0TDJ3QUloQjJRNlNIUlBoN0FxNTRMWHZRSVRFOFRrT2dXUzRlVUhyczNpM0trQ3JmNVJ0LzZ3dUV0ZDlGQitXS0JFUlRKZ3NncHV4Y1lNcDRxL0JuTGszYnBCZmFuQWhqVVpVeXZRODdWS3NaVGxGNnVhY05hbWRYOGVHTVlxa3B2V1NtODYzc2tnRm5vOTBMTGkrdGNKai85ZC80VkpVTjNwYklraU9VYUVXaDl3Rm1xb01Ob2duSFdQcm1DU0lmczlJWkxOOVdtOVN6RnJOenlHVWdBZ05PdHB5cHd3cEl5b2I2TkxuTmxaMUZQelVsM1hqc25PZ1RDejlxbnRDOXBRYlQ2enBTNUl2bHJVcXQ2eWs2blNyZHp2eWJYOVNSSG5PZHVSZkw0alpCQlZhN0dicHlnSjBnOTZ4MGZ1YWdYK1Y2WmlnWlhBZE8xMHNkWGd4UHQrdjBianBmQ0xxRW52NmxuUT09IiwiZGF0YWtleSI6IkFRRUJBSGh3bTBZYUlTSmVSdEptNW4xRzZ1cWVla1h1b1hYUGU1VUZjZTlScTgvMTR3QUFBSDR3ZkFZSktvWklodmNOQVFjR29HOHdiUUlCQURCb0Jna3Foa2lHOXcwQkJ3RXdIZ1lKWUlaSUFXVURCQUV1TUJFRURFYVhvVG9hejZueGZNbE1XQUlCRUlBN2FYNWJJK002OHNwRUtTZGlOVEVkMGFkSjJYdE1jZHgyOWFiVE5pbm1ndE1QTG8rZ3c2YmhCZXlLMFhRWUJkVnJXTlZ5TVlQSm9iVDNod0E9IiwidmVyc2lvbiI6IjIiLCJ0eXBlIjoiREFUQV9LRVkiLCJleHBpcmF0aW9uIjoxNzA0Nzk0OTMxfQ==",
            "proxy_endpoint": "https://921283598378.dkr.ecr.us-east-1.amazonaws.com",
            "registry_id": null,
            "user_name": "AWS"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "ecr_repos",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "api",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:us-east-1:921283598378:repository/api-repo",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "api-repo",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "api-repo",
            "registry_id": "921283598378",
            "repository_url": "921283598378.dkr.ecr.us-east-1.amazonaws.com/api-repo",
            "tags": {
              "env": "dev",
              "name": "api-repo"
            },
            "tags_all": {
              "env": "dev",
              "name": "api-repo"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "frontend",
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:us-east-1:921283598378:repository/frontend-repo",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "frontend-repo",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "frontend-repo",
            "registry_id": "921283598378",
            "repository_url": "921283598378.dkr.ecr.us-east-1.amazonaws.com/frontend-repo",
            "tags": {
              "env": "dev",
              "name": "frontend-repo"
            },
            "tags_all": {
              "env": "dev",
              "name": "frontend-repo"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "build_push_dkr_img",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": "api",
          "schema_version": 0,
          "attributes": {
            "id": "1511894250567061589",
            "triggers": {
              "detect_docker_source_changes": "16a1a3cf4ff28efe941260c590df77d74876597f2fe6b4314a86642a0d155256"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "aws_ecr_repository.ecr_repos",
            "data.aws_caller_identity.current"
          ]
        },
        {
          "index_key": "frontend",
          "schema_version": 0,
          "attributes": {
            "id": "6703728908682903066",
            "triggers": {
              "detect_docker_source_changes": "16a1a3cf4ff28efe941260c590df77d74876597f2fe6b4314a86642a0d155256"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "aws_ecr_repository.ecr_repos",
            "data.aws_caller_identity.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
